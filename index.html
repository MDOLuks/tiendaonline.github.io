<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda Online de Componentes</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="logo">
            <h1>Componentes<span>PC</span></h1>
        </div>
        <nav>
            <ul>
                <li><a href="#products">Inicio</a></li>
                <li><a href="#products">Productos</a></li>
                <li><a href="#" onclick="viewCart()"><i class="fas fa-shopping-cart"></i> Ver Carrito</a></li>
            </ul>
        </nav>
    </header>

</head>
<body>
    <header>
        <h1>Tienda de Tecnología</h1>
    </header>

    <section id="filters">
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Buscar productos..." onkeyup="searchProducts()">
        </div>

    <section class="hero">
        <h2>Encuentra los mejores componentes para tu PC</h2>
        <p>Los mejores precios y la mejor calidad, todo en un solo lugar.</p>
    </section>

    <main id="products"></main>

    <footer>
        <p>&copy; 2024 ComponentesPC. Todos los derechos reservados.</p>
    </footer>

    <script src="script.js"></script>

</body>
    <style>
body {
    font-family: 'Arial', sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
    color: #333;
}

header {
    background-color: #333;
    color: #fff;
    padding: 10px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

header .logo h1 {
    margin: 0;
    font-size: 24px;
}

header .logo span {
    color: #e67e22;
}

header nav ul {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
}

header nav ul li {
    margin-left: 20px;
}

header nav ul li a {
    color: #fff;
    text-decoration: none;
    font-size: 16px;
}

header nav ul li a:hover {
    text-decoration: underline;
}

.hero {
    background-image: url('hero-bg.jpg');
    background-size: cover;
    background-position: center;
    color: #fff;
    text-align: center;
    padding: 60px 20px;
}

.hero h2 {
    font-size: 36px;
    margin-bottom: 20px;
}

.hero p {
    font-size: 18px;
}

main {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    margin: 20px 0;
    padding: 20px;
}

.product {
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 5px;
    margin: 10px;
    padding: 15px;
    text-align: center;
    width: 280px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s;
}

.product:hover {
    transform: scale(1.05);
}

.product img {
    max-width: 100%;
    height: auto;
    border-radius: 5px;
}

.product-details {
    margin-top: 15px;
}

.product-details span {
    display: block;
    font-size: 18px;
    font-weight: bold;
    margin-bottom: 10px;
}

.product-details button {
    background-color: #28a745;
    color: #fff;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    border-radius: 5px;
    font-size: 16px;
}

.product-details button:hover {
    background-color: #218838;
}

footer {
    text-align: center;
    padding: 20px 0;
    background-color: #333;
    color: #fff;
    margin-top: 20px;
}

.search-bar {
    display: flex;
    justify-content: center;
    padding: 20px;
    background-color: #eaeaea;
}

.search-bar input[type="text"] {
    width: 50%;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #ddd;
    font-size: 16px;
}

.search-bar input[type="text"]:focus {
    outline: none;
    border-color: #28a745;
    box-shadow: 0 0 10px rgba(40, 167, 69, 0.5);
}

@media (max-width: 768px) {
    main {
        flex-direction: column;
        align-items: center;
    }

    .product {
        width: 90%;
    }
}
    </style>

    <script>
        const products = [
    { id: 1, name: "Gabinete Deepcool Matrexx", price: 56000, image: "gabinete1.jpg" },
    { id: 2, name: "Gabinete Redragon Ratchet", price: 97000, image: "gabinete2.jpg" },
    { id: 3, name: "Gabinete Deepcool", price: 136000, image: "gabinete3.jpg" },
    { id: 4, name: "Gabinete Gamer Corsair 4000d", price: 169000, image: "gabinete.jpg" },
    { id: 5, name: "Placa de Video Msi Geforce Rtx 3050", price: 550500, image: "placa_video5.jpg" },
    { id: 6, name: "Placa de video Nvidia GeForce GTX 1660 Ti", price: 599999, image: "placa_video4.jpg" },
    { id: 7, name: "Placa de video Asus Geforce Rtx 3080 Ti", price: 999999, image: "placa_video1.jpg" },
    { id: 8, name: "Placa de video Nvidia MSI Ventus RTX 3060 Ti", price: 1100000, image: "placa_video2.jpg" },
    { id: 9, name: "Memoria RAM Fury Beast DDR4 8gb", price: 30000, image: "MemoriaRAM1.jpg" },
    { id: 10, name: "Memoria Ram Fury Beast Ddr4 16gb", price: 65000, image: "memoriaram2.jpg" },
    { id: 11, name: "Memoria RAM Vengeance RGB 16GB", price: 120000, image: "ram.jpg" },
    { id: 12, name: "Motherboard Asus Prime A520m-k M.2", price: 130000, image: "mother2.jpg" },
    { id: 13, name: "Motherboard Gigabyte Amd A520m K", price: 140000, image: "mother3.jpg" },
    { id: 14, name: "Motherboard Mother Asus Tuf Z590-plus", price: 490000, image: "mother.jpg" },
    { id: 15, name: "Fuente de alimentación Corsair 650w", price: 135000, image: "fuente1.jpg" },
    { id: 16, name: "Fuente de alimentación Gigabyte 850w", price: 230000, image: "fuente2.jpg" }, 
    { id: 17, name: "Fuente de alimentación Corsair 1000w", price: 430000, image: "fuente3.jpg" },
    { id: 18, name: "Cooler Fan 120mm Negro", price: 10000, image: "cooler1.jpg" },
    { id: 19, name: "Cooler Masterfan Mf120 Argb", price: 15000, image: "cooler2.jpg" },
    { id: 20, name: "Cooler Corsair Sp 140mm Rgb", price: 45000, image: "cooler3.jpg" },
    { id: 21, name: "Noctua Nf-f12 black 120mm", price: 100000, image: "cooler4.jpg" },
    { id: 22, name: "Procesador AMD Ryzen 7 5700G", price: 380000, image: "procesador1.jpg" },
    { id: 23, name: "Procesador gamer AMD Ryzen 9 7900", price: 598000, image: "procesador2.jpg" },
    { id: 24, name: "Procesador gamer Intel Core i7-11700k", price: 395000, image: "procesador3.jpg" },
    { id: 25, name: "Procesador gamer Intel Core i9-14900K", price: 1500000, image: "procesador4.jpg" },
];

let cart = JSON.parse(localStorage.getItem('cart')) || [];

// Función para manejar errores
function handleError(error) {
    Swal.fire({
        title: 'Error',
        text: 'Ocurrió un problema al procesar tu solicitud. Por favor, intenta de nuevo.',
        icon: 'error',
        confirmButtonText: 'Ok'
    });
    console.error(error); // Para propósitos de depuración en la consola
}

// Función para mostrar los productos
function displayProducts() {
    const productsContainer = document.getElementById('products');
    productsContainer.innerHTML = '';

    products.forEach(product => {
        const productDiv = document.createElement('div');
        productDiv.classList.add('product');
        productDiv.innerHTML = `
            <img src="${product.image}" alt="${product.name}">
            <div class="product-details">
                <span>${product.name} - $${product.price.toLocaleString()}</span>
                <button onclick="addToCart(${product.id})">Añadir al carrito</button>
            </div>
        `;
        productsContainer.appendChild(productDiv);
    });
}

// Añadir productos al carrito con manejo de errores
function addToCart(productId) {
    try {
        const product = products.find(p => p.id === productId);
        if (product) {
            cart.push(product);
            localStorage.setItem('cart', JSON.stringify(cart));
            Swal.fire({
                title: 'Añadido al carrito',
                text: `${product.name} se añadió al carrito.`,
                icon: 'success',
                confirmButtonText: 'Continuar'
            });
        }
    } catch (error) {
        handleError(error);
    }
}

// Muestra el carrito con manejo de errores
function viewCart() {
    try {
        if (cart.length === 0) {
            Swal.fire({
                title: 'Carrito vacío',
                text: 'No tienes productos en el carrito.',
                icon: 'info',
                confirmButtonText: 'Ok'
            });
            return;
        }

        let cartSummary = 'Productos en el carrito:<br><br>';
        let total = 0;

        cart.forEach(item => {
            cartSummary += `${item.name} - $${item.price.toLocaleString()}<br>`;
            total += item.price;
        });

        cartSummary += `<br><strong>Total: $${total.toLocaleString()}</strong>`;

        Swal.fire({
            title: 'Carrito de compras',
            html: cartSummary,
            showCancelButton: true,
            confirmButtonText: 'Proceder al pago',
            cancelButtonText: 'Seguir comprando'
        }).then((result) => {
            if (result.isConfirmed) {
                checkout();
            }
        });
    } catch (error) {
        handleError(error);
    }
}

// Proceder al pago con manejo de errores
function checkout() {
    try {
        if (cart.length === 0) {
            Swal.fire({
                title: 'Carrito vacío',
                text: 'No tienes productos en el carrito.',
                icon: 'info',
                confirmButtonText: 'Ok'
            });
            return;
        }

        const total = cart.reduce((sum, item) => sum + item.price, 0);
        Swal.fire({
            title: 'Confirmar compra',
            text: `El total es $${total.toLocaleString()}. ¿Deseas proceder al pago?`,
            icon: 'question',
            showCancelButton: true,
            confirmButtonText: 'Comprar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {
            if (result.isConfirmed) {
                Swal.fire({
                    title: 'Compra realizada',
                    text: 'Gracias por tu compra.',
                    icon: 'success',
                    confirmButtonText: 'Ok'
                });
                cart = [];
                localStorage.setItem('cart', JSON.stringify(cart));
            }
        });
    } catch (error) {
        handleError(error);
    }
}

// Vaciar el carrito
function clearCart() {
    try {
        cart = [];
        localStorage.setItem('cart', JSON.stringify(cart));
        Swal.fire({
            title: 'Carrito vaciado',
            text: 'El carrito ha sido vaciado.',
            icon: 'success',
            confirmButtonText: 'Ok'
        });
        displayProducts();
    } catch (error) {
        handleError(error);
    }
}

// Mostrar pantalla de login y registro
function showLoginScreen() {
    const loginForm = `
        <form id="loginForm">
            <input type="text" id="username" placeholder="Usuario" required><br>
            <input type="password" id="password" placeholder="Contraseña" required><br>
            <button type="submit">Login</button>
        </form>
    `;
    Swal.fire({
        title: 'Iniciar sesión',
        html: loginForm,
        showCancelButton: true,
        cancelButtonText: 'Registrar',
        didOpen: () => {
            const loginForm = document.getElementById('loginForm');
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                login();
            });
        }
    }).then((result) => {
        if (!result.isConfirmed) {
            showRegisterScreen();
        }
    });
}

function showRegisterScreen() {
    const registerForm = `
        <form id="registerForm">
            <input type="text" id="newUsername" placeholder="Usuario" required><br>
            <input type="password" id="newPassword" placeholder="Contraseña" required><br>
            <button type="submit">Registrar</button>
        </form>
    `;
    Swal.fire({
        title: 'Registrarse',
        html: registerForm,
        showCancelButton: true,
        cancelButtonText: 'Cancelar',
        didOpen: () => {
            const registerForm = document.getElementById('registerForm');
            registerForm.addEventListener('submit', (e) => {
                e.preventDefault();
                register();
            });
        }
    });
}

function login() {
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    
    // Aquí puedes agregar lógica de autenticación
    if (username && password) {
        Swal.fire({
            title: 'Bienvenido',
            text: `Hola ${username}, has iniciado sesión.`,
            icon: 'success',
            confirmButtonText: 'Continuar'
        });
    } else {
        Swal.fire({
            title: 'Error',
            text: 'Usuario o contraseña incorrectos.',
            icon: 'error',
            confirmButtonText: 'Ok'
        });
    }
}

function register() {
    const newUsername = document.getElementById('newUsername').value;
    const newPassword = document.getElementById('newPassword').value;
    
    // Aquí puedes agregar lógica de registro
    if (newUsername && newPassword) {
        Swal.fire({
            title: 'Registrado',
            text: `Usuario ${newUsername} registrado con éxito.`,
            icon: 'success',
            confirmButtonText: 'Iniciar sesión'
        }).then(() => {
            showLoginScreen();
        });
    } else {
        Swal.fire({
            title: 'Error',
            text: 'Por favor completa todos los campos.',
            icon: 'error',
            confirmButtonText: 'Ok'
        });
    }
}

// Función Buscar Productos
function searchProducts() {
    const searchTerm = document.getElementById('searchInput').value.toLowerCase();
    const filteredProducts = products.filter(product => product.name.toLowerCase().includes(searchTerm));
    displayFilteredProducts(filteredProducts);
}

// Función Mostrar Productos Filtrados
function displayFilteredProducts(filteredProducts) {
    const productsContainer = document.getElementById('products');
    productsContainer.innerHTML = '';

    filteredProducts.forEach(product => {
        const productDiv = document.createElement('div');
        productDiv.classList.add('product');
        productDiv.innerHTML = `
            <img src="${product.image}" alt="${product.name}">
            <div class="product-details">
                <span>${product.name} - $${product.price.toLocaleString()}</span>
                <button onclick="addToCart(${product.id})">Añadir al carrito</button>
            </div>
        `;
        productsContainer.appendChild(productDiv);
    });
}


// Proceder al pago
function checkout() {
    if (cart.length === 0) {
        Swal.fire({
            title: 'Carrito vacío',
            text: 'No tienes productos en el carrito.',
            icon: 'info',
            confirmButtonText: 'Ok'
        });
        return;
    }

    const total = cart.reduce((sum, item) => sum + item.price, 0);
    Swal.fire({
        title: 'Confirmar compra',
        text: `El total es $${total.toLocaleString()}. ¿Deseas proceder al pago?`,
        icon: 'question',
        showCancelButton: true,
        confirmButtonText: 'Comprar',
        cancelButtonText: 'Cancelar'
    }).then((result) => {
        if (result.isConfirmed) {
            Swal.fire({
                title: 'Compra realizada',
                text: 'Gracias por tu compra.',
                icon: 'success',
                confirmButtonText: 'Ok'
            });
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
        }
    });
}

// Inicializar la aplicación
window.onload = () => {
    displayProducts();
    showLoginScreen();
};
    </script>
</body>
</html>